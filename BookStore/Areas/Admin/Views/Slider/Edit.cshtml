@model TbSlider

<form class="forms-sample" method="post" enctype="multipart/form-data"
      asp-controller="Slider" asp-action="Save" role="form" asp-area="Admin">
    <div class="row" style="padding: 50px;">
        <div class="col-md-12 grid-margin stretch-card">
            <div class="card">
                <div class="card-body row">
                    <h4 class="card-title">Slider Form</h4>
                    <p class="card-description"> @ResGeneral.lblNew or @ResGeneral.lblEdit </p>
                          <input type="hidden" asp-for="SliderId"/>
                          <input type="hidden" asp-for="CreatedBy"/>
                          <input type="hidden" asp-for="CreatedDate"/>
                          <input type="hidden" asp-for="CurrentState"/>
                          <input type="hidden" asp-for="ImageName"/>
                    <div class="form-group col-md-6">
                        <label>@ResAdmin.lblTitle</label>
                        <input type="text" class="form-control" placeholder="Title" asp-for="Title" required maxlength="50">
                        <span class="text-danger"  asp-validation-for="Title" class="text-danger"></span>
                    </div>
                    <div class="form-group col-md-6">
                    <label>@ResAdmin.lblDescription</label>
                        <textarea type="text" class="form-control" asp-for="Description" placeholder="Description" ></textarea>
                        <span class="text-danger"  asp-validation-for="Description"></span>
                    </div>
                    <div class="row col-lg-12">
                            <div class="form-group col-md-6 col-sm-6 col-xs-6">
                                <div class="form-group ">
                                    <label>@ResAdmin.lblImage</label>
                                    <input type="file" class="form-control" placeholder="Image" name="Files" onchange="showSelectedImage(event)" accept=".jpg, .png, .jpeg" id="ImageName">
                                </div>
                            </div>
                            <div class="col-md-6 grid-margin stretch-card">
                                <div class="card">
                                    <div class="card-body">
                                        <span id="tbImgName"></span>
                                        <div id="tbImgSrc">
                                            <img src="/Uploads/Sliders/@Model.ImageName" style="width:95%; height:300px;">
                                        </div>
                                    </div>
                                </div>
                            </div>
                    </div>
                    <div>
                        <button type="submit" class="btn btn-gradient-primary me-2">@ResGeneral.lblSubmit</button>
                        <a class="btn btn-light" asp-controller="Slider" asp-action="List" asp-area="Admin">@ResGeneral.lblCancel</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</form>
@section Scripts
{
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.19.3/jquery.validate.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validation-unobtrusive/3.2.12/jquery.validate.unobtrusive.min.js"></script>
    <script>
        function showSelectedImage(event) {
            const fileInput = event.target;
            const files = fileInput.files;

            if (files.length > 0) {
                const reader = new FileReader();
                reader.onload = function (e) {
                    const imgSrc = document.querySelector('#tbImgSrc img');
                    imgSrc.src = e.target.result;
                }
                reader.readAsDataURL(files[0]);
            }
        }
    </script>
}