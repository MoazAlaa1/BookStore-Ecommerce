@model TbPages
@section Styles
{
    <!-- Plugin css for this page -->
    <link rel="stylesheet" href="~/Admin/vendors/quill/quill.snow.css">
    <link rel="stylesheet" href="~/Admin/vendors/simplemde/simplemde.min.css">
    <!-- End plugin css for this page -->
}
<form class="forms-sample" method="post" enctype="multipart/form-data"
      asp-controller="Pages" asp-action="Save" role="form" asp-area="Admin">
    <div class="row" style="padding: 50px;">
        <div class="col-md-12 grid-margin stretch-card">
            <div class="card">
                <div class="card-body row">
                    <h4 class="card-title">Book Form</h4>
                    <p class="card-description"> @ResGeneral.lblNew or @ResGeneral.lblEdit </p>
                          <input type="hidden" asp-for="PageId"/>
                          <input type="hidden" asp-for="CreatedBy"/>
                          <input type="hidden" asp-for="CreatedDate"/>
                          <input type="hidden" asp-for="CurrentState"/>
                          <input type="hidden" asp-for="ImageName"/>
                    <div class="form-group col-md-6">
                        <label>@ResAdmin.lblTitle</label>
                        <input type="text" class="form-control" placeholder="Title" asp-for="Title" required maxlength="50">
                        <span class="text-danger"  asp-validation-for="Title" class="text-danger"></span>
                    </div>
                    <div class="form-group col-md-6">
                    <label>MetaKeyWord</label>
                    <input type="text" class="form-control" asp-for="MetaKeyWord" placeholder="MetaKeyWord" />
                        <span class="text-danger"  asp-validation-for="MetaKeyWord"></span>
                    </div>
                    <div class="form-group col-md-6">
                    <label>MetaDescriptiuon</label>
                    <input type="text" asp-for="MetaDescriptiuon" class="form-control" placeholder="MetaDescriptiuon">
                        <span class="text-danger"  asp-validation-for="MetaDescriptiuon"></span>
                    </div>
                    <div class="row grid-margin">
                        <div class="col-lg-12">
                            <div class="card">
                                <div class="card-body">
                                    <h4 class="card-title">@ResAdmin.lblDescription</h4>
                                    <textarea id='tinyMceExample'asp-for="Description">Edit your content here...</textarea>
                                    <span class="text-danger" asp-validation-for="Description"></span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row col-lg-12">
                            <div class="form-group col-md-6 col-sm-6 col-xs-6">
                                <div class="form-group ">
                                    <label>@ResAdmin.lblImage</label>
                                    <input type="file" class="form-control" placeholder="Image" name="Files" onchange="showSelectedImage(event)" accept=".jpg, .png, .jpeg" id="ImageName">
                                </div>
                            </div>
                            <div class="col-md-6 grid-margin stretch-card">
                                <div class="card">
                                    <div class="card-body">
                                        <span id="tbImgName"></span>
                                        <div id="tbImgSrc">
                                            <img src="/Uploads/Pages/@Model.ImageName" style="width:95%; height:300px;">
                                        </div>
                                    </div>
                                </div>
                            </div>
                    </div>
                    <div>
                        <button type="submit" class="btn btn-gradient-primary me-2">@ResGeneral.lblSubmit</button>
                        <a class="btn btn-light" asp-controller="Pages" asp-action="List" asp-area="Admin">@ResGeneral.lblCancel</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</form>
@section Scripts
{
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.19.3/jquery.validate.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validation-unobtrusive/3.2.12/jquery.validate.unobtrusive.min.js"></script>
    <script src="~/Admin/vendors/tinymce/tinymce.min.js"></script>
    <!-- Custom js for this page -->
    <script src="~/Admin//js/editorDemo.js"></script>
    <!-- End custom js for this page -->
    <script>
        function showSelectedImage(event) {
            const fileInput = event.target;
            const files = fileInput.files;

            if (files.length > 0) {
                const reader = new FileReader();
                reader.onload = function (e) {
                    const imgSrc = document.querySelector('#tbImgSrc img');
                    imgSrc.src = e.target.result;
                }
                reader.readAsDataURL(files[0]);
            }
        }
    </script>
}